/* Minimal modern theme (light/dark) */
:root {
  --bg: #f8fafc;
  --bg2: #ffffff;
  --text: #0f172a;
  --muted: #64748b;
  --border: #e2e8f0;
  --accent: #22c55e;
  --primary: #0f172a;
}
[data-theme="dark"] {
  --bg: #0b1220;
  --bg2: #0f172a;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --border: #1f2937;
  --accent: #16a34a;
  --primary: #ffffff;
}
* { box-sizing: border-box; }
html, body { margin: 0; height: 100%; background: var(--bg); color: var(--text); font: 14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
.hidden { display: none !important; }
.topbar { position: sticky; top:0; z-index:10; backdrop-filter: blur(8px); display:flex; justify-content:space-between; align-items:center; padding: 10px 16px; border-bottom:1px solid var(--border); background: color-mix(in hsl, var(--bg2) 80%, transparent); }
.brand { display:flex; align-items:center; gap:10px; }
.logo { width:24px; height:24px; border-radius:6px; background: var(--text); }
.badge { font-size:11px; padding:2px 8px; border-radius:999px; background:#e2e8f0; color:#0f172a; }
[data-theme="dark"] .badge { background:#1f2937; color:#e5e7eb; }
.actions { display:flex; gap:8px; }
button, select, input[type="number"], input[type="text"], input[type="color"] { border:1px solid var(--border); background: transparent; color: var(--text); border-radius: 12px; padding: 8px 10px; }
button { cursor:pointer; }
button.primary { background: var(--primary); color: #fff; border-color: var(--primary); }
button.accent { border-color: var(--accent); }
.container { max-width: 1120px; margin: 0 auto; padding: 16px; }
.dropzone { border:2px dashed var(--border); border-radius:24px; padding: 24px; text-align:center; background: color-mix(in hsl, var(--bg2) 70%, transparent); }
.dz-inner { display:flex; flex-direction:column; align-items:center; gap:8px; }
.dz-icon { font-size: 32px; }
.dz-buttons { display:flex; gap:8px; flex-wrap:wrap; }
.hint { font-size: 12px; color: var(--muted); }
.grid { display:grid; grid-template-columns: 1fr 1fr; gap:16px; margin-top:16px; }
.grid2 { display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
.grid3 { display:grid; grid-template-columns: 1fr 1fr 1fr; gap:10px; }
.row { display:flex; align-items:center; gap:8px; }
.card { border:1px solid var(--border); background: color-mix(in hsl, var(--bg2) 80%, transparent); border-radius:24px; padding: 16px; }
.queue { list-style:none; margin:0; padding:0; display:grid; gap:12px; grid-template-columns:1fr 1fr; }
.queue li { border:1px solid var(--border); border-radius:16px; overflow:hidden; background: color-mix(in hsl, var(--bg2) 60%, transparent); }
.q-preview { position:relative; padding-top:56%; background:#0b1220; overflow:hidden; }
.q-preview img { position:absolute; inset:0; width:100%; height:100%; object-fit:contain; background:#111827; }
.q-controls { padding:10px; display:flex; justify-content:space-between; gap:8px; align-items:center; }
.small { font-size:12px; color: var(--muted); }
.toolbar { margin-top:10px; display:flex; gap:8px; }
.footer { text-align:center; padding: 24px 16px; font-size:12px; color: var(--muted); }
hr { border:0; border-top:1px solid var(--border); margin:12px 0; }

/* Modal & crop UI */
.modal { position: fixed; inset:0; background: rgba(0,0,0,.6); display:flex; align-items:center; justify-content:center; padding:16px; }
.modal-dialog { width: min(960px, 100%); background: var(--bg2); border:1px solid var(--border); border-radius:16px; overflow:hidden; }
.modal-head { display:flex; justify-content:space-between; align-items:center; padding:10px; border-bottom:1px solid var(--border); }
.modal-body { padding:10px; }
.crop-stage { position:relative; background:#0b1220; height: 60vh; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.crop-stage img { max-width:100%; max-height:100%; user-select:none; pointer-events:none; }
.crop-box { position:absolute; border:2px dashed #22c55e; box-shadow: 0 0 0 99999px rgba(0,0,0,.35); }
.crop-box .handle { width:12px; height:12px; background:#22c55e; position:absolute; border-radius:50%; }
.handle.tl { left:-6px; top:-6px; } .handle.tr { right:-6px; top:-6px; } .handle.bl { left:-6px; bottom:-6px; } .handle.br { right:-6px; bottom:-6px; }

@media (max-width: 960px) {
  .grid { grid-template-columns: 1fr; }
  .queue { grid-template-columns: 1fr; }
}
